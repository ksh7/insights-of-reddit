<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="./css/loader.css">
    <title>Insights of Reddit - Explore Reddit's Insightful Content To Gain Knowledge</title>
  </head>
  <body>
    <div id="redditinsightapp">
    <header class="max-w-5xl mx-auto pt-5">
      <div class="flex flex-wrap -mx-2 overflow-hidden px-5 lg:px-2 my-2">
        <div class="px-2 w-full overflow-hidden md:w-1/6 lg:w-1/3 xl:w-1/3 text-center md:text-left">
          <h1 class="font-bold text-2xl font-serif">Insights of Reddit</h1>
        </div>
        <nav class="my-2 px-2 w-full overflow-hidden md:w-3/6 lg:w-1/3 xl:w-1/3 text-center md:text-left">
          <ul>
            <li class="inline-block"><a class="block font-semibold px-3" href="/">Explore</a></li>
            <li class="inline-block"><a class="block font-semibold px-3" href="/about.html">About</a></li>
          </ul>
        </nav>
        <div class="my-2 px-2 w-full overflow-hidden md:w-2/6 lg:w-1/3 xl:w-1/3 text-center md:text-right">
          <a href="#" title="Twitter" class="inline-block w-6 mr-2">
            <svg class="fill-current" viewBox="0 0 512.001 512.001" xmlns="http://www.w3.org/2000/svg">
              <path d="M373.406 0H138.594C62.172 0 0 62.172 0 138.594V373.41C0 449.828 62.172 512 138.594 512H373.41C449.828 512 512 449.828 512 373.41V138.594C512 62.172 449.828 0 373.406 0zm108.578 373.41c0 59.867-48.707 108.574-108.578 108.574H138.594c-59.871 0-108.578-48.707-108.578-108.574V138.594c0-59.871 48.707-108.578 108.578-108.578H373.41c59.867 0 108.574 48.707 108.574 108.578zm0 0"/>
              <path d="M256 116.004c-77.195 0-139.996 62.8-139.996 139.996S178.804 395.996 256 395.996 395.996 333.196 395.996 256 333.196 116.004 256 116.004zm0 249.976c-60.64 0-109.98-49.335-109.98-109.98 0-60.64 49.34-109.98 109.98-109.98 60.645 0 109.98 49.34 109.98 109.98 0 60.645-49.335 109.98-109.98 109.98zm0 0M399.344 66.285c-22.813 0-41.367 18.559-41.367 41.367 0 22.813 18.554 41.371 41.367 41.371s41.37-18.558 41.37-41.37-18.558-41.368-41.37-41.368zm0 52.719c-6.258 0-11.352-5.094-11.352-11.352 0-6.261 5.094-11.351 11.352-11.351 6.261 0 11.355 5.09 11.355 11.351 0 6.258-5.094 11.352-11.355 11.352zm0 0"/>
            </svg>
          </a>
          <a href="#" title="Instagram" class="inline-block w-6">
            <svg class="fill-current" viewBox="0 -45 512 512" xmlns="http://www.w3.org/2000/svg">
              <path d="M194.816 422.71c-85.453 0-152.992-14.929-185.304-40.952l-.63-.508-.57-.57C.638 373-1.877 362.926 1.418 353.043l.3-.82c4-10.004 13.802-16.739 24.423-16.801 21.859-.379 40.984-2.985 58.34-8.043-27.684-12.875-46.915-35.168-58.356-67.434-3.848-10.062-.527-21.218 8.34-27.87 2.187-1.645 4.66-2.887 7.277-3.72-15.383-17.757-26.746-37.964-33.11-59.335l-.198-.665-.137-.68c-2.16-10.808 2.672-21.921 11.527-26.706 3.715-2.133 7.75-3.239 11.801-3.332-4.367-9.407-7.543-19.063-9.426-28.778-5.226-26.921-.914-53.91 12.813-80.214l3.175-6.352a17.759 17.759 0 0113.004-9.563 17.76 17.76 0 0115.356 4.958l5.785 5.792c45.703 47.915 86.64 70.649 157.418 86.204 3.16-27.168 14.906-52.422 33.855-72.297C286.156 13.738 316.27.469 348.398.016h.211c23.442 0 52.52 13.382 70.106 22.82 15.086-4.938 33.262-12.582 52.12-20.664 8.825-4.14 19.704-2.246 26.642 4.691 6.8 6.801 8.687 16.39 5.078 25.711a126.223 126.223 0 01-4.657 11.227c2.582 1.183 4.946 2.789 6.942 4.785 6.035 6.035 8.55 15.48 6.406 24.066l-.23.817c-7.227 23.289-21.11 42.258-39.47 54.164C468.48 290.918 345.52 422.71 194.817 422.71zM38.305 365.036c30.449 17.227 88.476 27.649 156.511 27.649 65.41 0 127.137-28.082 173.805-79.075 47.05-51.41 72.961-119.68 72.961-192.234v-.816c0-6.57 3.617-12.567 9.438-15.653C462.828 98.652 472.39 88 478.61 74.38c-6.415 1.012-12.934-1.563-16.93-6.93a17.621 17.621 0 01-.13-20.957 97.453 97.453 0 006.692-10.59c-16.285 6.84-31.75 12.973-45.176 17.047-4.878 1.477-10.316.899-14.773-1.59-23.902-13.316-46.164-21.277-59.586-21.316-49.527.758-89.797 43.176-89.797 94.605 0 5.317-2.36 10.301-6.465 13.68a17.646 17.646 0 01-14.672 3.695c-81.609-16.078-129.968-40.187-180.257-90.722-7.207 17.27-9.176 34.664-5.844 51.84 3.379 17.398 12.367 34.832 25.996 50.414 5.18 5.914 5.867 14.375 1.71 21.05-4.14 6.653-12.01 9.762-19.577 7.735-5.914-1.586-11.352-3.668-16.508-6.344 10.504 22.816 28.57 43.918 51.281 59.48 6.582 4.512 9.332 12.922 6.692 20.454-2.645 7.543-10.032 12.398-18.016 11.804-8.7-.644-16.406-2.296-23.5-5.082 12.734 25.934 33.082 40.203 64.43 45.657a17.72 17.72 0 0114.465 14.668 17.714 17.714 0 01-9.2 18.43c-26.718 14.163-55.922 21.765-91.14 23.628zm0 0"/>
            </svg>
          </a>
        </div>
      </div>
    </header>
    <div class="bg-gray-100" v-if="show_hero_section">
      <!-- featured -->
      <div class="max-w-5xl mx-auto sm:pt-2 sm:pb-2 md:pt-10 md:pb-10">
        <ul class="flex flex-wrap -mx-2 overflow-hidden">
          <li class="my-2 px-2 w-full overflow-hidden md:w-1/4 lg:w-1/4 xl:w-1/4">
            <a @click="fetchArticlesByCategory('explainlikeimfive')">
              <div class="mx-2 flex items-center justify-center bg-gray-300 bg-cover bg-center relative rounded overflow-hidden" style="height:100px; background-image:url(https://images.unsplash.com/photo-1602199926649-2e5e447bab97?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=300&q=80)">
                <div class="absolute w-full h-full bg-black z-10 opacity-50"></div>
                <div class="relative z-20 text-center p-5">
                  <h2 class="text-white font-semibold font-serif text-xl my-5">Explain Like I'm Five</h2>
                </div>
              </div>
            </a>
          </li>
          <li class="my-2 px-2 w-full overflow-hidden md:w-1/4 lg:w-1/4 xl:w-1/4">
            <a @click="fetchArticlesByCategory('IWantToLearn')">
              <div class="mx-2 flex items-center justify-center bg-gray-300 bg-cover bg-center relative rounded overflow-hidden" style="height:100px; background-image:url(https://images.unsplash.com/photo-1469474968028-56623f02e42e?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=340&q=80">
                <div class="absolute w-full h-full bg-black z-10 opacity-50"></div>
                <div class="relative z-20 text-center p-5">
                  <h2 class="text-white font-semibold font-serif text-xl my-5">I Want To Learn</h2>
                </div>
              </div>
            </a>
          </li>
          <li class="my-2 px-2 w-full overflow-hidden md:w-1/4 lg:w-1/4 xl:w-1/4">
            <a @click="fetchArticlesByCategory('askscience')">
              <div class="mx-2 flex items-center justify-center bg-gray-300 bg-cover bg-center relative rounded overflow-hidden" style="height:100px; background-image:url(https://images.unsplash.com/photo-1488190211105-8b0e65b80b4e?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=340&q=80)">
                <div class="absolute w-full h-full bg-black z-10 opacity-50"></div>
                <div class="relative z-20 text-center p-5">
                  <h2 class="text-white font-semibold font-serif text-xl my-5">Ask Science</h2>
                </div>
              </div>
            </a>
          </li>
          <li class="my-2 px-2 w-full overflow-hidden md:w-1/4 lg:w-1/4 xl:w-1/4">
            <a @click="fetchArticlesByCategory('YouShouldKnow')">
              <div class="mx-2 flex items-center justify-center bg-gray-300 bg-cover bg-center relative rounded overflow-hidden" style="height:100px; background-image:url(https://images.unsplash.com/photo-1488646953014-85cb44e25828?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=340&q=80)">
                <div class="absolute w-full h-full bg-black z-10 opacity-50"></div>
                <div class="relative z-20 text-center p-5">
                  <h2 class="text-white font-semibold font-serif text-xl my-5">You Should Know</h2>
                </div>
              </div>
            </a>
          </li>
        </ul>
      </div>
    </div>
    <main class="max-w-5xl mx-auto pb-10 pt-10">
      <div class="flex flex-wrap overflow-hidden" id="top_view">
        <div class="w-full overflow-hidden md:w-4/6 lg:w-4/6 xl:w-4/6">
          <div class="mr-2 md:mr-4 ml-2">
            <div v-if="loading">
              <div class="text-center">
                <div class="aple-roller"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div>
              </div>
            </div>
            <div v-if="!loading && show_error">
                <span>Oops, No articles found. Please try after sometime!</span>
            </div>
            <div v-if="!loading && show_main_list">
              <div v-if="search_results" class="mb-5" class="text-left">
                  <button class="rounded-sm bg-gray-900 text-white tracking-widest text-sm uppercase font-medium py-3 mt-5 px-5" @click="goToMainPageFromSearch">< Go Back</button>
                </div>
              <div v-if="search_results">
                <span>Search results for "<i>{{search_term}}</i>"</span>
              </div>
              <div v-for="article in articles">
                <div class="mt-5 bg-gray-100 rounded-sm p-5">
                  <div class="pb-5">
                    <h2 class="font-light text-2xl mb-2 text-left pt-5 text-gray-900">
                      <button @click="showArticle(article.submission_id)">{{article.title}}</button>
                    </h2>
                    <div class="text-right">
                      <span class="text-xs text-gray-800 font-thin block">{{article.subreddit_name_prefixed}} | By: {{article.author_fullname}}</span>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <div v-if="!loading && show_article_details">
                <div class="text-left">
                  <button class="rounded-sm bg-gray-900 text-white tracking-widest text-sm uppercase font-medium py-3 mt-5 px-5" @click="goToMainPage">< Go Back</button>
                </div>
                <div class="mt-5 bg-gray-100 rounded-sm p-5">
                  <div class="pb-5">
                    <h2 class="font-light text-2xl mb-2 text-left pt-5 text-gray-900">
                      <a>{{article_details.title}}</a>
                    </h2>
                    <div class="text-right">
                      <span class="text-xs text-gray-800 font-thin block" v-if="article_details.author_fullname">{{article_details.subreddit_name_prefixed}} | By: {{article_details.author_fullname}}</span>
                      <span class="text-xs text-gray-800 font-thin block" v-if="!article_details.author_fullname">{{article_details.subreddit_name_prefixed}} | By: Anonymouse</span>
                    </div>
                  </div>
                </div>

                <div v-for="comment in article_details.comments.slice().reverse()">
                <div class="mt-5 bg-gray-100 rounded-sm p-5" v-if="comment.body != '[removed]' && comment.body != '[deleted]'">
                  <div class="pb-2">                    
                    <div class="text-gray-900 font-light tracking-wider leading-loose">
                      <div v-html="comment.body_html"></div>
                    </div>
                    <span class="text-xs text-gray-800 font-thin block text-right" v-if="comment.author_fullname">By: {{comment.author_fullname}} | Score: {{comment.score}}</span>
                    <span class="text-xs text-gray-800 font-thin block text-right" v-if="!comment.author_fullname">By: Anonymouse | Score: {{comment.score}}</span>

                    <div v-if="comment.replies.length > 0">
                        <div v-for="reply in comment.replies">
                          <div class="mt-10" v-if="reply.body != '[removed]' && reply.body != '[deleted]'">
                            <div class="mt-5" v-if="reply.body">
                              <hr>
                              <div class="text-gray-800 font-light tracking-wider leading-loose ml-10">
                                <div v-html="reply.body_html"></div>
                              </div>
                              <span class="text-xs text-gray-800 font-thin block text-right" v-if="reply.author_fullname">By: {{reply.author_fullname}}</span>
                              <span class="text-xs text-gray-800 font-thin block text-right" v-if="!reply.author_fullname">By: Anonymouse</span>
                            </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
                </div>
            </div>
          </div>
        </div>
        <div class="w-full overflow-hidden md:w-2/6 lg:w-2/6 xl:w-2/6">
          <!-- sidebar -->
          <div class="ml-2 md:ml-4 mr-2">
            <div class="mt-1">
              <h2 class="font-light text-xl mb-5 text-center">Search Reddit Insights</h2>
              <div class="relative border rounded-sm overflow-hidden">
                  <input class="w-full relative p-5 font-light text-gray-900 border-0" type="text" name="s" id="" placeholder="Search..." v-model="search_term" v-on:keyup.enter="searchArticlesByTitle">
                  <button @click="searchArticlesByTitle" class="bg-transparent border-0 absolute right-0 px-5 py-5 top-2">
                    <span class="block w-5">
                      <svg class="fill-current" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">
                        <path d="M495 466.2L377.2 348.4c29.2-35.6 46.8-81.2 46.8-130.9C424 103.5 331.5 11 217.5 11 103.4 11 11 103.5 11 217.5S103.4 424 217.5 424c49.7 0 95.2-17.5 130.8-46.7L466.1 495c8 8 20.9 8 28.9 0 8-7.9 8-20.9 0-28.8zm-277.5-83.3C126.2 382.9 52 308.7 52 217.5S126.2 52 217.5 52C308.7 52 383 126.3 383 217.5s-74.3 165.4-165.5 165.4z"/>
                      </svg>
                    </span>
                  </button>
              </div>
            </div>
            <div class="mt-10 bg-gray-100 rounded-sm p-5">
              <div class="pb-6">
                <div class="w-10 mx-auto mt-6 text-gray-900">
                  <svg class="fill-current" viewBox="-1 0 512 512" xmlns="http://www.w3.org/2000/svg">
                    <path d="M505.668 246.465c-.89-.906-54.297-54.309-55.668-55.68V55c0-30.328-24.672-55-55-55H115C84.672 0 60 24.672 60 55v135.785C.379 250.406 0 248.301 0 257v210c0 24.813 20.188 45 45 45h420c24.813 0 45-20.188 45-45V257c0-3.855-1.54-7.71-4.332-10.535zm-35.992 6.426L450 262.73v-29.516zM115 30h280c13.785 0 25 11.215 25 25v222.73l-120 60V197c0-8.285-6.715-15-15-15H135c-8.285 0-15 6.715-15 15v95.73l-30-15V55c0-13.785 11.215-25 25-25zm155 257.973l-66.68-44.453a15.004 15.004 0 00-15.027-.938L150 261.73V212h120zm-120 7.297l43.922-21.961L270 324.027v28.703l-15 7.5-105-52.5zm-90-32.54l-19.676-9.84L60 233.216zM465 482H45c-8.27 0-15-6.73-15-15V281.27l218.293 109.148a15.008 15.008 0 0013.414 0L480 281.27V467c0 8.27-6.73 15-15 15zm0 0"/>
                    <path d="M195 91h120c8.285 0 15-6.715 15-15s-6.715-15-15-15H195c-8.285 0-15 6.715-15 15s6.715 15 15 15zm0 0M135 151h240c8.285 0 15-6.715 15-15s-6.715-15-15-15H135c-8.285 0-15 6.715-15 15s6.715 15 15 15zm0 0M375 181h-30c-8.285 0-15 6.715-15 15s6.715 15 15 15h30c8.285 0 15-6.715 15-15s-6.715-15-15-15zm0 0M375 241h-30c-8.285 0-15 6.715-15 15s6.715 15 15 15h30c8.285 0 15-6.715 15-15s-6.715-15-15-15zm0 0"/>
                  </svg>
                </div>
                <h2 class="font-light text-xl mb-2 text-center pt-5 text-gray-900">Subscribe to Insights of Reddit</h2>
                <span class="block text-center text-gray-900 font-thin tracking-wider leading-loose text-xs italic">Get the reddit insights right in your inbox!</span>
                  <div class="bg-white border border-gray-400 mt-5 rounded-sm overflow-hidden">
                    <input class="bg-transparent w-full p-3" type="text" name="name" id="" placeholder="First Name" v-model="user_name">
                  </div>
                  <div class="bg-white border border-gray-400 mt-3 rounded-sm overflow-hidden">
                    <input class="bg-transparent w-full p-3" type="email" name="email" id="" placeholder="Email Address" v-model="user_email">
                  </div>
                  <div v-if="subscribe_done" class="mt-3 text-gray-900 font-thin tracking-wider leading-loose text-xs italic">
                    <label>Thanks! You'll receive weekly insightful emails!</label>
                  </div>
                  <button @click="onSubscribe" class="w-full rounded-sm bg-gray-900 text-white tracking-widest text-sm uppercase font-medium py-3 mt-5">Subscribe</button>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="text-left" v-if="!loading && show_main_list">
        <button class="rounded-sm bg-gray-900 text-white tracking-widest text-sm uppercase font-medium py-3 mt-5 px-5" @click="loadMoreArticles">Load more articles</button>
      </div>
      <div class="text-left" v-if="!loading && show_article_details">
        <button class="rounded-sm bg-gray-900 text-white tracking-widest text-sm uppercase font-medium py-3 mt-5 px-5" @click="loadMoreComments">Load more comments</button>
      </div>
    </main>
    <footer class="bg-gray-100 text-center sm:text-left">
      <div class="max-w-5xl mx-auto pb-10 pt-10 text-gray-900">
        <ul>
          <li class="inline-block"><a class="block font-semibold px-3" href="/">Explore</a></li>
          <li class="inline-block"><a class="block font-semibold px-3" href="/">Categories</a></li>
          <li class="inline-block"><a class="block font-semibold px-3" href="/about.html">About</a></li>
        </ul>
        <div class="sm:flex px-3">
          <div class="w-full sm:w-1/2">
            <h4 class="font-bold text-2xl font-serif pt-10">Insights of Reddit</h4>
            <span class="block pt-1 text-xs tracking-wider font-light">&copy;2022 Insights of Reddit. | All rights reserved. | All content belongs to Reddit, Inc.</span>
          </div>
          <div class="w-full sm:w-1/2 text-center md:text-right mt-10 sm:mt-0">
            <a href="#" title="Twitter" class="inline-block w-6 mr-2">
              <svg class="fill-current" viewBox="0 0 512.001 512.001" xmlns="http://www.w3.org/2000/svg">
                <path d="M373.406 0H138.594C62.172 0 0 62.172 0 138.594V373.41C0 449.828 62.172 512 138.594 512H373.41C449.828 512 512 449.828 512 373.41V138.594C512 62.172 449.828 0 373.406 0zm108.578 373.41c0 59.867-48.707 108.574-108.578 108.574H138.594c-59.871 0-108.578-48.707-108.578-108.574V138.594c0-59.871 48.707-108.578 108.578-108.578H373.41c59.867 0 108.574 48.707 108.574 108.578zm0 0"/>
                <path d="M256 116.004c-77.195 0-139.996 62.8-139.996 139.996S178.804 395.996 256 395.996 395.996 333.196 395.996 256 333.196 116.004 256 116.004zm0 249.976c-60.64 0-109.98-49.335-109.98-109.98 0-60.64 49.34-109.98 109.98-109.98 60.645 0 109.98 49.34 109.98 109.98 0 60.645-49.335 109.98-109.98 109.98zm0 0M399.344 66.285c-22.813 0-41.367 18.559-41.367 41.367 0 22.813 18.554 41.371 41.367 41.371s41.37-18.558 41.37-41.37-18.558-41.368-41.37-41.368zm0 52.719c-6.258 0-11.352-5.094-11.352-11.352 0-6.261 5.094-11.351 11.352-11.351 6.261 0 11.355 5.09 11.355 11.351 0 6.258-5.094 11.352-11.355 11.352zm0 0"/>
              </svg>
            </a>
            <a href="#" title="Instagram" class="inline-block w-6">
              <svg class="fill-current" viewBox="0 -45 512 512" xmlns="http://www.w3.org/2000/svg">
                <path d="M194.816 422.71c-85.453 0-152.992-14.929-185.304-40.952l-.63-.508-.57-.57C.638 373-1.877 362.926 1.418 353.043l.3-.82c4-10.004 13.802-16.739 24.423-16.801 21.859-.379 40.984-2.985 58.34-8.043-27.684-12.875-46.915-35.168-58.356-67.434-3.848-10.062-.527-21.218 8.34-27.87 2.187-1.645 4.66-2.887 7.277-3.72-15.383-17.757-26.746-37.964-33.11-59.335l-.198-.665-.137-.68c-2.16-10.808 2.672-21.921 11.527-26.706 3.715-2.133 7.75-3.239 11.801-3.332-4.367-9.407-7.543-19.063-9.426-28.778-5.226-26.921-.914-53.91 12.813-80.214l3.175-6.352a17.759 17.759 0 0113.004-9.563 17.76 17.76 0 0115.356 4.958l5.785 5.792c45.703 47.915 86.64 70.649 157.418 86.204 3.16-27.168 14.906-52.422 33.855-72.297C286.156 13.738 316.27.469 348.398.016h.211c23.442 0 52.52 13.382 70.106 22.82 15.086-4.938 33.262-12.582 52.12-20.664 8.825-4.14 19.704-2.246 26.642 4.691 6.8 6.801 8.687 16.39 5.078 25.711a126.223 126.223 0 01-4.657 11.227c2.582 1.183 4.946 2.789 6.942 4.785 6.035 6.035 8.55 15.48 6.406 24.066l-.23.817c-7.227 23.289-21.11 42.258-39.47 54.164C468.48 290.918 345.52 422.71 194.817 422.71zM38.305 365.036c30.449 17.227 88.476 27.649 156.511 27.649 65.41 0 127.137-28.082 173.805-79.075 47.05-51.41 72.961-119.68 72.961-192.234v-.816c0-6.57 3.617-12.567 9.438-15.653C462.828 98.652 472.39 88 478.61 74.38c-6.415 1.012-12.934-1.563-16.93-6.93a17.621 17.621 0 01-.13-20.957 97.453 97.453 0 006.692-10.59c-16.285 6.84-31.75 12.973-45.176 17.047-4.878 1.477-10.316.899-14.773-1.59-23.902-13.316-46.164-21.277-59.586-21.316-49.527.758-89.797 43.176-89.797 94.605 0 5.317-2.36 10.301-6.465 13.68a17.646 17.646 0 01-14.672 3.695c-81.609-16.078-129.968-40.187-180.257-90.722-7.207 17.27-9.176 34.664-5.844 51.84 3.379 17.398 12.367 34.832 25.996 50.414 5.18 5.914 5.867 14.375 1.71 21.05-4.14 6.653-12.01 9.762-19.577 7.735-5.914-1.586-11.352-3.668-16.508-6.344 10.504 22.816 28.57 43.918 51.281 59.48 6.582 4.512 9.332 12.922 6.692 20.454-2.645 7.543-10.032 12.398-18.016 11.804-8.7-.644-16.406-2.296-23.5-5.082 12.734 25.934 33.082 40.203 64.43 45.657a17.72 17.72 0 0114.465 14.668 17.714 17.714 0 01-9.2 18.43c-26.718 14.163-55.922 21.765-91.14 23.628zm0 0"/>
              </svg>
            </a>
          </div>
        </div>
      </div>
    </footer>
    </div>

    <script src="https://code.jquery.com/jquery-3.6.0.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
    <script type="text/javascript" src="js/vue.js"></script>

      <script type="text/javascript">
        var app = new Vue({
            el: '#redditinsightapp',
            data: {
              loading: true,
              show_error: false,
              show_hero_section: true,
              show_main_list: false,
              show_article_details: false,
              articles: [],
              article_details: null,
              comment_replies: [],
              subreddit_category: '',
              search_results: false,
              search_term: '',
              user_name: '',
              user_email: '',
              subscribe_done: false,
              selected: null,
            },

            methods: {

              scrollToTop() {
                window.scrollTo(0,0);
              },

              searchArticlesByTitle: async function() {
                this.scrollToTop();
                this.search_term = this.search_term.trim();
                if (!this.search_term) {
                  return
                }

                this.loading = true;
                this.show_main_list = false;
                this.show_article_details = false;

                $.ajax({
                  url: 'https://reddit-insight-functions.netlify.app/.netlify/functions/search-articles-by-title?search_term=' + this.search_term,
                  success: function (data) {
                    const response = JSON.parse(data);
                    this.articles = response.data.searchArticlesByTitle.documents;
                    this.loading = false;
                    this.show_main_list = true;
                    this.search_results = true;
                  }.bind(this),
                  error: function (jqXHR, textStatus, errorThrown) {
                    this.show_error = true;
                  }.bind(this)
                });

              },

              fetchArticlesByCategory: async function(category) {
                document.getElementById('top_view').scrollIntoView();
                this.loading = true;
                this.show_main_list = false;
                this.show_article_details = false;

                $.ajax({
                  url: 'https://reddit-insight-functions.netlify.app/.netlify/functions/get-category-articles?category=' + category,
                  success: function (data) {
                    const response = JSON.parse(data);
                    this.articles = response.data.getArticlesByCategory.documents.sort( () => Math.random() - 0.5);
                    this.loading = false;
                    this.show_main_list = true;
                  }.bind(this),
                  error: function (jqXHR, textStatus, errorThrown) {
                    this.show_error = true;
                  }.bind(this)
                });

              },

              loadMoreArticles: function() {
                return;
              },

              loadMoreComments: function() {
                return;
              },

              onSubscribe: function() {
                if ((!this.user_name.trim()) || (!this.user_email.trim())) {
                  return;
                }
                this.subscribe_done = true;

              },

              goToMainPageFromSearch: function() {
                this.articles = [];
                this.show_main_list = false;
                this.loading = true;
                this.search_results = false;
                this.loadInitData();
              },

              goToMainPage: function() {
                this.show_article_details = false;
                this.show_hero_section = true;
                this.show_main_list = true;
              },

              showArticle: async function(sub_id) {
                this.scrollToTop();
                this.loading = true;
                this.show_main_list = false;
                this.show_hero_section = false;

                if (this.article_details != null) {
                  if (this.article_details.submission_id == sub_id) {
                    this.loading = false;
                    this.show_article_details = true;
                    return;
                  }
                }

                $.ajax({
                  url: 'https://reddit-insight-functions.netlify.app/.netlify/functions/show-article?sub_id=' + sub_id,
                  success: function (data) {
                    const response = JSON.parse(data);
                    this.article_details = response.data.getArticleDetailsByID.document;
                    this.loading = false;
                    this.show_article_details = true;
                  }.bind(this),
                  error: function (jqXHR, textStatus, errorThrown) {
                    this.show_error = true;
                  }.bind(this)
                });

              },

              loadInitData: async function() {
                this.scrollToTop();

                $.ajax({
                  url: 'https://reddit-insight-functions.netlify.app/.netlify/functions/get-articles',
                  success: function (data) {
                    const response = JSON.parse(data);
                    this.articles = response.data.getArticles.documents.sort( () => Math.random() - 0.5);
                    this.loading = false;
                    this.show_main_list = true;
                  }.bind(this),
                  error: function (jqXHR, textStatus, errorThrown) {
                    this.show_error = true;
                  }.bind(this)
                });
              }
            },

            mounted: function () {
              this.loadInitData();
            },

          });
      </script>
  </body>
</html>